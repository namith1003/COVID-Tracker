<!DOCTYPE html>
<html lang="en">
    {% load tz %}
    {% load static %}
    <head>
        <meta charset = "UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="{% static 'index.css' %}">
        <link href="{% static 'js/bootstrap.min.js' %}" rel="stylesheet">
        <link href="{% static 'css/password_reset.css' %}" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Pacifico&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <title>User Information</title>
    </head>
    <body>
        {% if user.is_superuser %}
        <header class="page-header gradient">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path fill="teal" fill-opacity="1" d="M0,256L18.5,234.7C36.9,213,74,171,111,176C147.7,181,185,235,222,245.3C258.5,256,295,224,332,213.3C369.2,203,406,213,443,213.3C480,213,517,203,554,192C590.8,181,628,171,665,160C701.5,149,738,139,775,128C812.3,117,849,107,886,117.3C923.1,128,960,160,997,176C1033.8,192,1071,192,1108,176C1144.6,160,1182,128,1218,112C1255.4,96,1292,96,1329,122.7C1366.2,149,1403,203,1422,229.3L1440,256L1440,0L1421.5,0C1403.1,0,1366,0,1329,0C1292.3,0,1255,0,1218,0C1181.5,0,1145,0,1108,0C1070.8,0,1034,0,997,0C960,0,923,0,886,0C849.2,0,812,0,775,0C738.5,0,702,0,665,0C627.7,0,591,0,554,0C516.9,0,480,0,443,0C406.2,0,369,0,332,0C295.4,0,258,0,222,0C184.6,0,148,0,111,0C73.8,0,37,0,18,0L0,0Z"></path>
        </svg>
            <div class ="container pt-3">
                <div class="row align-items-center justify-content-center">
                <h1> User Information </h1>
                <table class="table table-bordered table-dark table-hover">
                    <thead>
                        <tr>
                            <th scope="col">User ID</th>
                            <th scope="col">Username</th>
                            <th scope="col">Email</th>
                            <th scope="col">Amount of Log In</th>
                            <th scope="col">Last Sign In</th>
                        </tr>
                    </thead>
                    {% for user in users %}
                            <tbody>
                                    <tr>
                                        <td>{{user.id}}</td>
                                        <td>{{user.username}}</td>
                                        <td>{{user.email}}</td>
                                        <td>{{user.profile.counter}}</td>   
                                        <td>{{user.last_login|timezone:"Asia/Kuala_Lumpur" }}</td>
                                    </tr>
                            </tbody>
                    
                    {% endfor %}
                </table>
            </div>
            <a class="btn btn-outline-primary btn-block" href="{{request.META.HTTP_REFERER|escape}}">Back</a>
            <br><br>
        </header>
    


    {% else %}
    <h1>Unauthorised access</h1>
    {% endif %}
    </body>
</html>
